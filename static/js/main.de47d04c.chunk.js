(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{14:function(e,t,n){e.exports={detailsSection:"CountryInfo_detailsSection__2IyBW",detailsTop:"CountryInfo_detailsTop__3oUYd",detailsBottom:"CountryInfo_detailsBottom__2ssws"}},17:function(e,t,n){e.exports={search:"Countries_search__kSuld",listCountries:"Countries_listCountries__8YMYh"}},20:function(e,t,n){e.exports={spinner:"LoadingSpinner_spinner__3ERHB"}},21:function(e,t,n){e.exports={nav:"MainHeader_nav__3JfYN"}},22:function(e,t,n){e.exports={country:"Country_country__3Wxru"}},30:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(12),s=n.n(i),a=n(5),o=(n(30),n(2)),u=n(13),l=n(10),j=n.n(l),d=n(18),b=n(9),f=Object(b.b)({name:"countriesSlice",initialState:{countries:[],countryInfo:[]},reducers:{getCountries:function(e,t){var n;(n=e.countries).push.apply(n,Object(d.a)(t.payload))},getCountryInfo:function(e,t){var n;(n=e.countryInfo).push.apply(n,Object(d.a)(t.payload))}}}),h=f.actions,O=h.getCountries,p=h.getCountryInfo,x=f.reducer,m=function(e){return function(){var t=Object(u.a)(j.a.mark((function t(n){var c,r,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://restcountries.com/v3.1/name/".concat(e));case 3:if((c=t.sent).ok){t.next=6;break}throw new Error("Somthing went wrong when fetching country info via API");case 6:return t.next=8,c.json();case 8:r=t.sent,i=[],r.forEach((function(e){i.push({official:e.name.official,capital:e.capital[0],region:e.region,timezone:e.timezones[0],flag:e.flags.svg,population:e.population,area:e.area})})),n(p(i)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),alert(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},g=Object(b.b)({name:"loadingSlice",initialState:{isLoading:!0},reducers:{setIsLoading:function(e,t){e.isLoading=t.payload}}}),v=g.actions.setIsLoading,y=g.reducer,_=n(20),w=n.n(_),C=n(1),N=function(){return Object(C.jsx)("div",{className:w.a.spinner})},I=n(14),k=n.n(I),S=function(){var e=Object(o.g)(),t=Object(a.b)(),n=Object(a.c)((function(e){return e.country.countryInfo})),r=Object(a.c)((function(e){return e.loading.isLoading})),i=e.countryName;return Object(c.useEffect)((function(){t(m(i));var e=setTimeout((function(){t(v(!1))}),300);return function(){clearTimeout(e)}}),[t,i]),r?Object(C.jsx)("div",{className:"centered",children:Object(C.jsx)(N,{})}):Object(C.jsx)(c.Fragment,{children:n.length>0&&Object(C.jsxs)("section",{className:k.a.detailsSection,children:[Object(C.jsxs)("div",{className:k.a.detailsTop,children:[Object(C.jsx)("img",{src:n[n.length-1].flag,alt:"flag"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("h2",{children:i}),Object(C.jsx)("h4",{children:n[n.length-1].region})]})]}),Object(C.jsxs)("ul",{className:k.a.detailsBottom,children:[Object(C.jsxs)("li",{children:[Object(C.jsx)("span",{children:"\ud83c\udf8c Official Name:"}),Object(C.jsx)("p",{children:n[n.length-1].official})]}),Object(C.jsxs)("li",{children:[Object(C.jsx)("span",{children:"\ud83c\udf06 Capital:"}),Object(C.jsx)("p",{children:n[n.length-1].capital})]}),Object(C.jsxs)("li",{children:[Object(C.jsx)("span",{children:"\u2b55 Area:"}),Object(C.jsxs)("p",{children:[+n[n.length-1].area," km2"]})]}),Object(C.jsxs)("li",{children:[Object(C.jsx)("span",{children:"\ud83e\udd3c Population:"}),Object(C.jsxs)("p",{children:[(+n[n.length-1].population/1e6).toFixed(1)," ","million"]})]}),Object(C.jsxs)("li",{children:[Object(C.jsx)("span",{children:"\u23f3 Time Zone:"}),Object(C.jsx)("p",{children:n[n.length-1].timezone})]})]})]})})},E=n(7),L=n(21),T=n.n(L),B=n.p+"static/media/left-arrow.e4894e7d.svg",F=n.p+"static/media/mic-icon.a1a792b3.svg",M=n.p+"static/media/settings-icon.c097a47c.svg",Y=function(e){var t=e.title;return Object(C.jsx)("header",{children:Object(C.jsxs)("nav",{className:T.a.nav,children:["Country Info"===t&&Object(C.jsx)("div",{children:Object(C.jsx)(E.b,{to:"/",children:Object(C.jsx)("img",{src:B,alt:"Back to home page"})})}),Object(C.jsx)("div",{children:t}),Object(C.jsxs)("div",{children:[Object(C.jsx)("img",{src:F,alt:"Mic"}),Object(C.jsx)("img",{src:M,alt:"Settings"})]})]})})},z=function(){return Object(C.jsxs)(c.Fragment,{children:[Object(C.jsx)(Y,{title:"Country Info"}),Object(C.jsx)(S,{})]})},A=n(6),J=n(22),P=n.n(J),W=function(e){var t=Object(a.b)();return Object(C.jsx)("li",{className:P.a.country,onClick:function(){return t(v(!0))},children:Object(C.jsx)(E.b,{to:"/".concat(e.name),children:Object(C.jsxs)("figure",{children:[Object(C.jsx)("img",{src:e.flag,alt:"flag"}),Object(C.jsx)("figcaption",{children:e.name})]})})})},H=n(17),q=n.n(H),D=function(e){var t=Object(c.useState)(""),n=Object(A.a)(t,2),r=n[0],i=n[1],s=Object(a.c)((function(e){return e.loading.isLoading})),o=Object(a.b)();if(Object(c.useEffect)((function(){var e=setTimeout((function(){o(v(!1))}),1500);return function(){clearTimeout(e)}}),[o]),s)return Object(C.jsx)("div",{className:"centered",children:Object(C.jsx)(N,{})});var u=e.countries.filter((function(e){return Object.keys(e).some((function(t){return e[t].toLowerCase().includes(r.toLowerCase())}))}));return Object(C.jsxs)("section",{children:[Object(C.jsx)("input",{type:"search",className:q.a.search,placeholder:"Search by country name",value:r,onChange:function(e){return i(e.target.value)},required:!0}),Object(C.jsx)("ul",{className:q.a.listCountries,children:u.map((function(e){return Object(C.jsx)(W,{name:e.countryName,flag:e.flag},e.countryName)}))})]})},R=function(e){return Object(C.jsxs)(c.Fragment,{children:[Object(C.jsx)(Y,{title:"World Data"}),Object(C.jsx)(D,{countries:e.countries})]})},U=function(){return function(){var e=Object(u.a)(j.a.mark((function e(t){var n,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://restcountries.com/v3.1/all");case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Somthing went wrong when fetching countries via API");case 6:return e.next=8,n.json();case 8:c=e.sent,r=[],c.forEach((function(e){r.push({countryName:e.name.common,flag:e.flags.svg})})),t(O(r)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),alert(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()};var Z=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.country.countries}));return Object(c.useEffect)((function(){e(U()),e(v(!0))}),[e]),Object(C.jsxs)(o.c,{children:[Object(C.jsx)(o.a,{path:"/",element:Object(C.jsx)(R,{countries:t})}),Object(C.jsx)(o.a,{path:"/:countryName",element:Object(C.jsx)(z,{})})]})},G=Object(b.a)({reducer:{country:x,loading:y}});s.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(a.a,{store:G,children:Object(C.jsx)(E.a,{children:Object(C.jsx)(Z,{})})})}),document.getElementById("root")||document.createElement("div"))}},[[33,1,2]]]);
//# sourceMappingURL=main.de47d04c.chunk.js.map