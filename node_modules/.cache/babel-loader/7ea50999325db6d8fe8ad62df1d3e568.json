{"ast":null,"code":"import { getCountries } from \"./countries-slice\";\n\nconst getCountriesFromApi = () => async dispatch => {\n  try {\n    const response = await fetch(\"https://restcountries.com/v3.1/all\");\n\n    if (!response.ok) {\n      throw new Error(\"Somthing went wrong when fetching countries via API\");\n    }\n\n    const data = await response.json();\n    const countriesData = [];\n    data.forEach(country => {\n      countriesData.push({\n        countryName: country.name.common,\n        flag: country.flags.svg\n      });\n    });\n    dispatch(getCountries(countriesData));\n  } catch (err) {\n    alert(err.message);\n  }\n};\n\nexport default getCountriesFromApi;","map":{"version":3,"sources":["D:/Project_ReactJS/WorldData/src/redux/countries-action.js"],"names":["getCountries","getCountriesFromApi","dispatch","response","fetch","ok","Error","data","json","countriesData","forEach","country","push","countryName","name","common","flag","flags","svg","err","alert","message"],"mappings":"AAAA,SAASA,YAAT,QAA6B,mBAA7B;;AAEA,MAAMC,mBAAmB,GAAG,MAAM,MAAOC,QAAP,IAAoB;AACpD,MAAI;AACF,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,oCAAD,CAA5B;;AACA,QAAI,CAACD,QAAQ,CAACE,EAAd,EAAkB;AAChB,YAAM,IAAIC,KAAJ,CAAU,qDAAV,CAAN;AACD;;AAED,UAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAAnB;AAEA,UAAMC,aAAa,GAAG,EAAtB;AACAF,IAAAA,IAAI,CAACG,OAAL,CAAcC,OAAD,IAAa;AACxBF,MAAAA,aAAa,CAACG,IAAd,CAAmB;AACjBC,QAAAA,WAAW,EAAEF,OAAO,CAACG,IAAR,CAAaC,MADT;AAEjBC,QAAAA,IAAI,EAAEL,OAAO,CAACM,KAAR,CAAcC;AAFH,OAAnB;AAID,KALD;AAOAhB,IAAAA,QAAQ,CAACF,YAAY,CAACS,aAAD,CAAb,CAAR;AACD,GAjBD,CAiBE,OAAOU,GAAP,EAAY;AACZC,IAAAA,KAAK,CAACD,GAAG,CAACE,OAAL,CAAL;AACD;AACF,CArBD;;AAuBA,eAAepB,mBAAf","sourcesContent":["import { getCountries } from \"./countries-slice\";\r\n\r\nconst getCountriesFromApi = () => async (dispatch) => {\r\n  try {\r\n    const response = await fetch(\"https://restcountries.com/v3.1/all\");\r\n    if (!response.ok) {\r\n      throw new Error(\"Somthing went wrong when fetching countries via API\");\r\n    }\r\n\r\n    const data = await response.json();\r\n\r\n    const countriesData = [];\r\n    data.forEach((country) => {\r\n      countriesData.push({\r\n        countryName: country.name.common,\r\n        flag: country.flags.svg,\r\n      });\r\n    });\r\n\r\n    dispatch(getCountries(countriesData));\r\n  } catch (err) {\r\n    alert(err.message);\r\n  }\r\n};\r\n\r\nexport default getCountriesFromApi;\r\n"]},"metadata":{},"sourceType":"module"}