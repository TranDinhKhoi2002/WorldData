{"ast":null,"code":"import { getCountryInfo } from \"./countries-slice\";\n\nconst getCountryInfoFromApi = countryName => async dispatch => {\n  try {\n    const response = await fetch(`https://restcountries.com/v3.1/name/${countryName}`);\n\n    if (!response.ok) {\n      throw new Error(\"Somthing went wrong when fetching country info via API\");\n    }\n\n    const data = await response.json();\n    const countryInfo = [];\n    data.forEach(country => {\n      countryInfo.push({\n        official: country.name.official,\n        capital: country.capital[0],\n        region: country.region,\n        timezone: country.timezones[0],\n        flag: country.flags.svg,\n        population: country.population,\n        area: country.area\n      });\n    });\n    dispatch(getCountryInfo(countryInfo));\n  } catch (err) {\n    alert(err.message);\n  }\n};\n\nexport default getCountryInfoFromApi;","map":{"version":3,"sources":["D:/Project_ReactJS/WorldData/src/redux/country-info.js"],"names":["getCountryInfo","getCountryInfoFromApi","countryName","dispatch","response","fetch","ok","Error","data","json","countryInfo","forEach","country","push","official","name","capital","region","timezone","timezones","flag","flags","svg","population","area","err","alert","message"],"mappings":"AAAA,SAASA,cAAT,QAA+B,mBAA/B;;AAEA,MAAMC,qBAAqB,GAAIC,WAAD,IAAiB,MAAOC,QAAP,IAAoB;AACjE,MAAI;AACF,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CACzB,uCAAsCH,WAAY,EADzB,CAA5B;;AAGA,QAAI,CAACE,QAAQ,CAACE,EAAd,EAAkB;AAChB,YAAM,IAAIC,KAAJ,CAAU,wDAAV,CAAN;AACD;;AAED,UAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAAnB;AAEA,UAAMC,WAAW,GAAG,EAApB;AACAF,IAAAA,IAAI,CAACG,OAAL,CAAcC,OAAD,IAAa;AACxBF,MAAAA,WAAW,CAACG,IAAZ,CAAiB;AACfC,QAAAA,QAAQ,EAAEF,OAAO,CAACG,IAAR,CAAaD,QADR;AAEfE,QAAAA,OAAO,EAAEJ,OAAO,CAACI,OAAR,CAAgB,CAAhB,CAFM;AAGfC,QAAAA,MAAM,EAAEL,OAAO,CAACK,MAHD;AAIfC,QAAAA,QAAQ,EAAEN,OAAO,CAACO,SAAR,CAAkB,CAAlB,CAJK;AAKfC,QAAAA,IAAI,EAAER,OAAO,CAACS,KAAR,CAAcC,GALL;AAMfC,QAAAA,UAAU,EAAEX,OAAO,CAACW,UANL;AAOfC,QAAAA,IAAI,EAAEZ,OAAO,CAACY;AAPC,OAAjB;AASD,KAVD;AAYArB,IAAAA,QAAQ,CAACH,cAAc,CAACU,WAAD,CAAf,CAAR;AACD,GAxBD,CAwBE,OAAOe,GAAP,EAAY;AACZC,IAAAA,KAAK,CAACD,GAAG,CAACE,OAAL,CAAL;AACD;AACF,CA5BD;;AA8BA,eAAe1B,qBAAf","sourcesContent":["import { getCountryInfo } from \"./countries-slice\";\r\n\r\nconst getCountryInfoFromApi = (countryName) => async (dispatch) => {\r\n  try {\r\n    const response = await fetch(\r\n      `https://restcountries.com/v3.1/name/${countryName}`\r\n    );\r\n    if (!response.ok) {\r\n      throw new Error(\"Somthing went wrong when fetching country info via API\");\r\n    }\r\n\r\n    const data = await response.json();\r\n\r\n    const countryInfo = [];\r\n    data.forEach((country) => {\r\n      countryInfo.push({\r\n        official: country.name.official,\r\n        capital: country.capital[0],\r\n        region: country.region,\r\n        timezone: country.timezones[0],\r\n        flag: country.flags.svg,\r\n        population: country.population,\r\n        area: country.area,\r\n      });\r\n    });\r\n\r\n    dispatch(getCountryInfo(countryInfo));\r\n  } catch (err) {\r\n    alert(err.message);\r\n  }\r\n};\r\n\r\nexport default getCountryInfoFromApi;\r\n"]},"metadata":{},"sourceType":"module"}